DROP DATABASE IF EXISTS productos;
CREATE DATABASE IF NOT EXISTS productos;
USE productos;

CREATE TABLE productos(
    id_producto INT AUTO_INCREMENT PRIMARY KEY,
    nombre VARCHAR(100) NOT NULL,
    descripcion VARCHAR(100) NOT NULL,
    precio DOUBLE NOT NULL,
    fecha_registro TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- pa registrar los Â´productps
DELIMITER //
CREATE PROCEDURE registrar_productos (
    IN _nombre VARCHAR(100),
    IN _descripcion VARCHAR(100),
    IN _precio DOUBLE
)
BEGIN
    INSERT INTO productos( nombre, descripcion, precio)
    VALUES ( _nombre, _descripcion, _precio);
END //
DELIMITER ;

-- pa eliminar los productos
DELIMITER //
CREATE PROCEDURE eliminar_producto (
    IN _id_producto INT
)
BEGIN
    DELETE FROM productos
    WHERE id_producto = _id_producto;
END //
DELIMITER ;

-- pa listar los productos
DELIMITER //
CREATE PROCEDURE listar_productos()
BEGIN
    SELECT * FROM productos;
END //
DELIMITER ;

-- pa editar los productos
DELIMITER //
CREATE PROCEDURE editar_productos (
    IN _id_producto INT,
    IN _nombre VARCHAR(100),
    IN _descripcion VARCHAR(100),
    IN _precio DOUBLE
)
BEGIN
    UPDATE productos
    SET nombre = _nombre,
        descripcion = _descripcion,
        precio = _precio
    WHERE id_producto = _id_producto;
END //
DELIMITER ;




use productos;

INSERT INTO productos(id_producto, nombre, descripcion, precio)
VALUES (1, "leche", "leche de baca", 5.50)